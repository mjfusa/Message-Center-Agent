# Local environment variables for the external MCP server (DO NOT commit real secrets)
#
# Usage (PowerShell):
#   Get-Content .\mcp-message-center-server\.env.local | ForEach-Object { if($_ -match '^(.*?)=(.*)$'){ [System.Environment]::SetEnvironmentVariable($matches[1], $matches[2]) } }
#   node .\mcp-message-center-server\dist\server.js

# Server
PORT=8080
PUBLIC_BASE_URL=http://localhost:8080

# Microsoft Entra / Graph OAuth (authorization code + PKCE)
# Create an App Registration and fill these values:
GRAPH_TENANT_ID=
GRAPH_CLIENT_ID=
GRAPH_CLIENT_SECRET=

# Optional override (defaults to ${PUBLIC_BASE_URL}/auth/graph/callback)
GRAPH_REDIRECT_URI=http://localhost:8080/auth/graph/callback

# Scopes requested during login (space-separated)
GRAPH_SCOPES=https://graph.microsoft.com/ServiceMessage.Read.All offline_access openid profile

# VS Code OAuth (Authorization Code + PKCE) proxy endpoints
# VS Code expects your server to expose /authorize and /token. This server proxies those calls to Entra.
# By default, /authorize requests: openid profile offline_access api://<clientId>/access_as_user
# You can override/lock down with the following:

# Optional: tenant id override for VS Code auth (defaults to GRAPH_TENANT_ID)
MCP_OAUTH_TENANT_ID=

# Optional: explicitly require a specific client id (defaults to GRAPH_CLIENT_ID)
MCP_OAUTH_EXPECTED_CLIENT_ID=

# Optional: comma-separated allowed redirect URI prefixes (defaults to http://127.0.0.1,http://localhost)
MCP_OAUTH_REDIRECT_URI_PREFIXES=http://127.0.0.1,http://localhost

# Optional: override scopes requested at /authorize
MCP_OAUTH_SCOPES=

# Optional: override client secret for /token (defaults to GRAPH_CLIENT_SECRET)
MCP_OAUTH_CLIENT_SECRET=
